<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link rel="shortcut icon" href="/images/logo.png" type="image/x-icon">
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,400;0,500;0,600;1,100&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/frontend/css/bootstrap.min.css">
    <link rel="stylesheet" href="/frontend/css/styles.css">
    <script src="/js/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
</head>

<body>
    <nav class="navbar navbar-light bg-success sticky-top">
        <a class="navbar-brand" href="/">
            <img src="/images/logo.png" height="50" class="d-inline-block align-top" alt=""
                style="position: absolute; top: 5px;">
            <span class="ml-5 text-white font-weight-bold">PILKADES WARINGIN JAYA</span>
        </a>
    </nav>
    <div class="container mt-4">
        <h2>PANITIA PILKADES TINGKAT DESA WARINGIN JAYA</h2>
        <p>Kecamatan Bojonggede Kabupaten Bogor Tahun 2020</p>
        <div class="row">
            <div class="col-12">
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    Portal ini dibuat untuk memberikan pelayanan kepada masyarakat Desa Waringin Jaya untuk mengetahui
                    hasil Pilkades pada 20
                    Desember 2020 dengan lebih cepat dan akurat. Data hasil Pilkades
                    entry data merupakan hasil sementara dan bukan hasil final. Jika terdapat kesalahan dalam form C1 maka akan
                    dilakukan perbaikan pada proses rekapitulasi ditingkat atasnya
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            </div>
            <div class="col-12">
                <h5>Data masuk: {{tpsData.tps_vote}} dari {{tpsData.total_tps}} TPS</h5>
                <div class="progress">
                    <div class="progress-bar" role="progressbar" style="width: {{tpsData.percent}}%;"
                        aria-valuenow="{{tpsData.percent}}" aria-valuemin="0" aria-valuemax="100">{{tpsData.percent}}%
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col-md-6">
                <figure class="highcharts-figure">
                    <div id="container"></div>
                </figure>
            </div>
            <div class="col-md-6">
                <div class="table-responsive">
                    <table class="table table-hover bordered">
                        <tr>
                            <td>No Urut</td>
                            <td>Foto Calon</td>
                            <td>Nama Calon</td>
                            <td>Persentase</td>
                        </tr>
                        {{#each candidates}}
                        {{#ifNotEq no_urut "-"}}
                        <tr class="border-bottom">
                            <td class="middle text-center font-weight-bold">{{no_urut}}</td>
                            <td><img src="{{image}}" height="100" width="100" alt=""></td>
                            <td class="middle">{{name}}</td>
                            <td>
                                <div class="percentext">{{percent}}%</div>
                                <div class="text-right">{{total_vote}} suara</div>
                            </td>
                        </tr>
                        {{/ifNotEq}}
                        {{/each}}
                        <tr>
                            <td colspan="3" class="text-center middle text-warning font-weight-bold" style="font-size: 25px;">Suara Tidak Sah</td>
                            <td>
                            <div class="percentext text-warning">{{candidates.0.percent}}%</div>
                            <div class="text-right">{{candidates.0.total_vote}} suara</div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="text-center middle text-success font-weight-bold"
                                style="font-size: 25px;">TOTAL</td>
                            <td>
                                <div class="percentext">100%</div>
                                <div class="text-right">{{totalVote}} suara</div>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        {{!-- <hr>
        <div class="table-responsive">
            <table class="table table-sm table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>No</th>
                        <th>Wilayah Pemilihan</th>
                        <th>TPS</th>
                        <th>Calon</th>
                        <th>Total Suara</th>
                        <th>Persentase</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td rowspan="3">1</td>
                        <td rowspan="2">Dusun I</td>
                        <td rowspan="1">TPS 01</td>
                    </tr>
                    <tr>
                        <td>TPS 02</td>
                    </tr>
                </tbody>
            </table>
        </div> --}}

    </div>
    <footer class="mt-3">
        <div class="mini-footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="copyright-text">
                            <p>Â©
                                <script>document.write(new Date().getFullYear())</script>
                                All rights reserved.
                                <a href="#">Achyar Anshorie&trade;</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        let dataPie = []
        {{#each pie}}
        dataPie.push({
            name: '{{ name }}',
            y: {{ y }}
            })
        {{/each}}
                Highcharts.chart('container', {
                    chart: {
                        plotBackgroundColor: null,
                        plotBorderWidth: null,
                        plotShadow: false,
                        type: 'pie'
                    },
                    title: {
                        text: 'Hasil Hitung TPS'
                    },
                    tooltip: {
                        pointFormat: '{series.name}: <b>{point.percentage:.2f}%</b>'
                    },
                    credits: {
                        enabled: false
                    },
                    accessibility: {
                        point: {
                            valueSuffix: '%'
                        }
                    },
                    plotOptions: {
                        pie: {
                            allowPointSelect: true,
                            cursor: 'pointer',
                            dataLabels: {
                                enabled: true,
                                format: '<b>{point.name}</b>: {point.percentage:.2f} %'
                            }
                        }
                    },
                    series: [{
                        name: 'Calon',
                        colorByPoint: true,
                        data: dataPie
                    }]
                });
    </script>

    <script src="/frontend/js/bootstrap.min.js"></script>
</body>

</html>